{"version":3,"sources":["api/exchange_rate.js","helpers/debounce.js","ProductsProvider.jsx","helpers/init-product.js","components/NewProduct/NewProduct.jsx","components/Options/Options.jsx","components/Products/Products.jsx","components/Scroll/Scroll.jsx","App.jsx","index.js"],"names":["getExchangeRate","a","fetch","then","response","ok","Error","status","statusText","json","catch","error","console","warn","result","rate","find","res","ccy","buy","changeCurrency","price","toFixed","debounce","f","delay","timerId","clearTimeout","args","setTimeout","ProductsContext","React","createContext","products","productsList","setProductsList","exchangeRate","applyQueryFrom","applyQueryTo","value","handleChange","changeValue","initialValue","currency","from","to","radio","errorList","ProductsProvider","children","useState","JSON","parse","localStorage","getItem","productsFromServer","setExchangeRate","queryFrom","setQueryFrom","useCallback","queryTo","setQueryTo","setValue","e","target","name","query","item","val","useEffect","filteredProducts","useMemo","filter","product","length","sort","b","localeCompare","contextValue","Provider","initProduct","id","image","description","initErrors","NewProduct","visibleForm","setVisibleForm","productData","setProductData","errors","setErrors","useContext","validate","validErrors","push","toUpperCase","slice","trimStart","hasErrors","handleOnBlur","valid","Object","values","some","arr","every","addProduct","preventDefault","setItem","stringify","className","classNames","hidden_form","type","onClick","onSubmit","input_valid","invalid","placeholder","onChange","onBlur","min","max","rows","button_checked","disabled","Options","input_active","currency_active","checked","option_active","Products","product_error","map","Scroll","href","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.711e9a2e.chunk.js","sourcesContent":["const EXCHANGE_RATE_URL = 'https://api.privatbank.ua/p24api/pubinfo?exchange&json&coursid=11';\n\nconst request = url => (\n  fetch(url)\n    .then((response) => {\n      if (!response.ok) {\n        throw Error`${response.status} - ${response.statusText}`;\n      }\n\n      return response.json();\n    })\n    // eslint-disable-next-line no-console\n    .catch(error => console.warn('Error: ', error))\n);\n\nexport const getExchangeRate = async() => {\n  const result = await request(EXCHANGE_RATE_URL);\n  const rate = result.find(res => res.ccy === 'USD');\n\n  return rate ? rate.buy : '27';\n};\n\nexport const changeCurrency = (rate, price) => (+price / +rate).toFixed();\n","export const debounce = (f, delay) => {\n  let timerId;\n\n  return (...args) => {\n    clearTimeout(timerId);\n    timerId = setTimeout(f, delay, ...args);\n  };\n};\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport productsFromServer from './data/products.json';\nimport { getExchangeRate, changeCurrency } from './api/exchange_rate';\nimport { debounce } from './helpers/debounce';\n\nexport const ProductsContext = React.createContext({\n  products: [],\n  productsList: [],\n  setProductsList: () => {},\n  exchangeRate: '',\n  applyQueryFrom: () => {},\n  applyQueryTo: () => {},\n  value: {},\n  handleChange: () => {},\n  changeValue: () => {},\n});\n\nconst initialValue = {\n  currency: 'uah',\n  from: '',\n  to: '',\n  radio: '',\n  errorList: false,\n};\n\nexport const ProductsProvider = ({ children }) => {\n  const [productsList, setProductsList] = useState(\n    JSON.parse(localStorage.getItem('products'))\n    || productsFromServer,\n  );\n  const [exchangeRate, setExchangeRate] = useState('');\n  const [queryFrom, setQueryFrom] = useState('');\n  const applyQueryFrom = useCallback(debounce(setQueryFrom, 1000), []);\n  const [queryTo, setQueryTo] = useState('');\n  const applyQueryTo = useCallback(debounce(setQueryTo, 1000), []);\n  const [value, setValue] = useState(initialValue);\n  const { currency, radio, errorList } = value;\n\n  const handleChange = useCallback((e) => {\n    const { name, value: query } = e.target;\n\n    setValue({\n      ...value,\n      [name]: query,\n    });\n  }, [value]);\n\n  const changeValue = useCallback((item, val) => (\n    setValue({\n      ...value,\n      [item]: val,\n    })), [value]);\n\n  useEffect(() => {\n    getExchangeRate().then(setExchangeRate);\n  }, []);\n\n  const filteredProducts = useMemo(() => {\n    if (!queryFrom && !queryTo) {\n      changeValue('errorList', false);\n\n      return productsList;\n    }\n\n    if (queryFrom && !queryTo) {\n      let result;\n\n      if (currency === 'uah') {\n        result = productsList.filter(product => (\n          +product.price >= +queryFrom));\n      }\n\n      if (currency === 'usd') {\n        result = productsList.filter(product => (\n          changeCurrency(exchangeRate, product.price) >= +queryFrom));\n      }\n\n      return result.length === 0\n        ? (changeValue('errorList', true), productsList)\n        : (changeValue('errorList', false), result);\n    }\n\n    if (queryTo && !queryFrom) {\n      let result;\n\n      if (currency === 'uah') {\n        result = productsList.filter(product => (\n          (+product.price) <= +queryTo));\n      }\n\n      if (currency === 'usd') {\n        result = productsList.filter(product => (\n          changeCurrency(exchangeRate, product.price) <= +queryTo));\n      }\n\n      return result.length === 0\n        ? (changeValue('errorList', true), productsList)\n        : (changeValue('errorList', false), result);\n    }\n\n    if (queryFrom && queryTo) {\n      let result;\n\n      if (currency === 'uah') {\n        result = productsList.filter(product => (\n          +product.price <= +queryTo && +product.price >= +queryFrom));\n      }\n\n      if (currency === 'usd') {\n        result = productsList.filter(product => (\n          changeCurrency(exchangeRate, product.price) >= +queryFrom\n          && changeCurrency(exchangeRate, product.price) <= +queryTo));\n      }\n\n      return result.length === 0\n        ? (changeValue('errorList', true), productsList)\n        : (changeValue('errorList', false), result);\n    }\n\n    return productsList;\n  }, [currency, errorList, queryFrom, queryTo, productsList, exchangeRate]);\n\n  const products = useMemo(() => {\n    switch (radio) {\n      case 'asc':\n        return [...filteredProducts]\n          .sort((a, b) => (+a.price) - (+b.price));\n      case 'desc':\n        return [...filteredProducts]\n          .sort((a, b) => (+b.price) - (+a.price));\n      case 'alphabet':\n        return [...filteredProducts]\n          .sort((a, b) => a.name.localeCompare(b.name));\n\n      default:\n        return filteredProducts;\n    }\n  }, [radio, filteredProducts, productsList, errorList]);\n\n  const contextValue = useMemo(() => (\n    {\n      products,\n      productsList,\n      setProductsList,\n      exchangeRate,\n      applyQueryFrom,\n      applyQueryTo,\n      value,\n      handleChange,\n      changeValue,\n    }\n  ), [products, productsList, exchangeRate,\n    applyQueryFrom, applyQueryTo, value]);\n\n  return (\n    <ProductsContext.Provider value={contextValue}>\n      {children}\n    </ProductsContext.Provider>\n  );\n};\n\nProductsProvider.propTypes = {\n  children: PropTypes.shape().isRequired,\n};\n","export const initProduct = {\n  id: '',\n  name: '',\n  price: '',\n  image: '',\n  description: '',\n};\n\nexport const initErrors = {\n  name: [],\n  price: [],\n  description: [],\n  image: [],\n};\n","import React, { useState, useCallback, useContext } from 'react';\nimport classNames from 'classnames';\nimport { ProductsContext } from '../../ProductsProvider';\nimport { initProduct, initErrors } from '../../helpers/init-product';\nimport './NewProduct.scss';\n\nexport const NewProduct = () => {\n  const [visibleForm, setVisibleForm] = useState(false);\n  const [productData, setProductData] = useState(initProduct);\n  const { name, price, image, description } = productData;\n  const [errors, setErrors] = useState(initErrors);\n  const { productsList, setProductsList } = useContext(ProductsContext);\n\n  const validate = useCallback((value, item) => {\n    const validErrors = {\n      name: [],\n      price: [],\n      description: [],\n    };\n\n    if (!value) {\n      validErrors[item].push(`Enter the ${item[0].toUpperCase()\n        + item.slice(1)} please!`);\n    }\n\n    if (value.length > 5 && item === 'price' && value) {\n      validErrors[item].push(`The ${item[0].toUpperCase()\n        + item.slice(1)} must contain to 6 characters!`);\n    }\n\n    if (+value <= 100 && item === 'price' && value) {\n      validErrors[item].push(`The ${item[0].toUpperCase()\n        + item.slice(1)} must be more than 100!`);\n    }\n\n    if ((value.length < 5 || value.length > 40) && item === 'name' && value) {\n      validErrors[item].push(`The ${item[0].toUpperCase()\n        + item.slice(1)} must contain from 5 to 40 characters!`);\n    }\n\n    if ((value.length < 30 || value.length > 150)\n      && item === 'description' && value) {\n      validErrors[item].push(`The ${item[0].toUpperCase()\n        + item.slice(1)} must contain from 30 to 150 characters!`);\n    }\n\n    setErrors({\n      ...errors,\n      ...validErrors,\n    });\n  }, [errors]);\n\n  const handleChange = useCallback((e) => {\n    const { value, name: item } = e.target;\n\n    setProductData({\n      ...productData,\n      id: productsList.length,\n      [item]: value.trimStart(),\n    });\n\n    validate(value, item);\n    hasErrors();\n  }, [productData, errors]);\n\n  const handleOnBlur = useCallback((e) => {\n    const { value, name: item } = e.target;\n\n    validate(value, item);\n    hasErrors();\n  }, [validate]);\n\n  const hasErrors = useCallback(() => {\n    let valid;\n\n    if ((Object.values(errors).some(arr => arr.length > 0))\n      || (Object.values(productData).some(arr => arr === ''))) {\n      valid = true;\n    } else if (Object.values(productData).every(arr => arr !== '')) {\n      valid = false;\n    }\n\n    return valid;\n  }, [errors, productData, validate]);\n\n  const addProduct = useCallback((e) => {\n    e.preventDefault();\n    if (Object.values(productData).every(arr => arr === '')) {\n      return;\n    }\n\n    localStorage.setItem('products', JSON.stringify(\n      [...productsList, productData],\n    ));\n    setProductsList([...productsList, productData]);\n    setProductData(initProduct);\n    setVisibleForm(false);\n  }, [productData, productsList]);\n\n  return (\n    <div className=\"NewProduct\">\n      <button\n        className={classNames('NewProduct-Button button-add', {\n          hidden_form: visibleForm,\n        })}\n        type=\"button\"\n        onClick={() => setVisibleForm(true)}\n      >\n        Добавить товар\n      </button>\n      <div className={classNames('NewProduct-Product', {\n        hidden_form: !visibleForm,\n      })}\n      >\n        <form className=\"NewProduct-Form Form\" onSubmit={addProduct}>\n          <div className=\"input-container\">\n            <span className=\"error\">{errors.name}</span>\n            <div className=\"Form-Item\">\n              <p className={classNames({\n                input_valid: !errors.name[0] && name,\n              })}\n              >\n                Имя\n              </p>\n              <input\n                type=\"text\"\n                className={classNames('input', {\n                  invalid: errors.name[0],\n                  valid: !errors.name[0] && name,\n                })}\n                name=\"name\"\n                placeholder=\"Name\"\n                value={name}\n                onChange={handleChange}\n                onBlur={handleOnBlur}\n              />\n            </div>\n          </div>\n          <div className=\"input-container\">\n            <span className=\"error\">{errors.price}</span>\n            <div className=\"Form-Item\">\n              <p className={classNames({\n                input_valid: !errors.price[0] && price,\n              })}\n              >\n                Цена\n              </p>\n              <input\n                type=\"number\"\n                className={classNames('input', {\n                  invalid: errors.price[0],\n                  valid: !errors.price[0] && price,\n                })}\n                name=\"price\"\n                placeholder=\"Price\"\n                min=\"1\"\n                max=\"50000\"\n                value={price}\n                onChange={handleChange}\n                onBlur={handleOnBlur}\n              />\n            </div>\n          </div>\n          <div className=\"input-container\">\n            <span className=\"error\">{errors.description}</span>\n            <textarea\n              className={classNames('description Form-Item input', {\n                invalid: errors.description[0],\n                valid: !errors.description[0] && description,\n              })}\n              placeholder=\"Description\"\n              rows=\"5\"\n              name=\"description\"\n              value={description}\n              onChange={handleChange}\n              onBlur={handleOnBlur}\n            />\n          </div>\n          <div className=\"Form-Item\">\n            <p className={classNames({\n              input_valid: image,\n            })}\n            >\n              Изображение\n            </p>\n            <button\n              className={classNames('button-image', {\n                button_checked: image,\n              })}\n              type=\"button\"\n              onClick={() => {\n                setProductData({\n                  ...productData,\n                  image: 'product.jpg',\n                });\n              }}\n            >\n              {}\n            </button>\n          </div>\n          <button\n            className=\"Form-Item NewProduct-Button\"\n            type=\"submit\"\n            disabled={hasErrors()}\n          >\n            Save\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n","import React, { useContext } from 'react';\nimport classNames from 'classnames';\nimport { ProductsContext } from '../../ProductsProvider';\nimport './Options.scss';\n\nexport const Options = () => {\n  const {\n    value,\n    handleChange,\n    changeValue,\n    applyQueryTo,\n    applyQueryFrom,\n  } = useContext(ProductsContext);\n  const { currency, from, to, radio } = value;\n\n  return (\n    <div className=\"Options\">\n      <div className=\"Options-Price\">\n        <h2 className=\"Options-TitlePrice\">Цена</h2>\n        <div className=\"Options-InputsPrice\">\n          <div className={classNames('input-from', {\n            input_active: from,\n          })}\n          >\n            от:\n            <br />\n            <input\n              type=\"number\"\n              className=\"input-price\"\n              name=\"from\"\n              min=\"10\"\n              max=\"100\"\n              placeholder=\"10\"\n              value={from}\n              onChange={(e) => {\n                handleChange(e);\n                applyQueryFrom(e.target.value);\n              }}\n            />\n          </div>\n          <div className={classNames('input-to', {\n            input_active: to,\n          })}\n          >\n            до:\n            <br />\n            <input\n              type=\"number\"\n              className=\"input-price\"\n              name=\"to\"\n              min=\"100\"\n              max=\"50000\"\n              placeholder=\"50000\"\n              value={to}\n              onChange={(e) => {\n                handleChange(e);\n                applyQueryTo(e.target.value);\n              }}\n            />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"Options-Currency\">\n        <h2 className=\"Options-TitleCurrency\">Валюта</h2>\n        <div className=\"container\">\n          <button\n            type=\"button\"\n            className={classNames('button button-usd', {\n              currency_active: currency === 'usd',\n            })}\n            onClick={() => changeValue('currency', 'usd')}\n          >\n            USD\n          </button>\n          <button\n            type=\"button\"\n            className={classNames('button button-uah', {\n              currency_active: currency === 'uah',\n            })}\n            onClick={() => changeValue('currency', 'uah')}\n          >\n            UAH\n          </button>\n        </div>\n      </div>\n\n      <div className=\"Options-Sorting\">\n        <h2 className=\"Options-TitleSorting\">Coртировка</h2>\n        <div className=\"container-radio\">\n          <label className=\"input-asc input-radio\">\n            <input\n              type=\"radio\"\n              name=\"radio\"\n              className=\"radio\"\n              value=\"asc\"\n              checked={radio === 'asc'}\n              onChange={handleChange}\n            />\n            <p className={classNames('option', {\n              option_active: radio === 'asc',\n            })}\n            >\n              по возростанию цены\n            </p>\n          </label>\n          <label className=\"input-desc input-radio\">\n            <input\n              type=\"radio\"\n              name=\"radio\"\n              className=\"radio\"\n              value=\"desc\"\n              checked={radio === 'desc'}\n              onChange={handleChange}\n            />\n            <p className={classNames('option', {\n              option_active: radio === 'desc',\n            })}\n            >\n              по убыванию цены\n            </p>\n          </label>\n\n          <label className=\"input-alphabet input-radio\">\n            <input\n              type=\"radio\"\n              name=\"radio\"\n              className=\"radio\"\n              value=\"alphabet\"\n              checked={radio === 'alphabet'}\n              onChange={handleChange}\n            />\n            <p className={classNames('option', {\n              option_active: radio === 'alphabet',\n            })}\n            >\n              по алфавиту\n            </p>\n          </label>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { useContext } from 'react';\nimport classNames from 'classnames';\nimport { ProductsContext } from '../../ProductsProvider';\nimport { changeCurrency } from '../../api/exchange_rate';\nimport './Products.scss';\n\nexport const Products = () => {\n  const {\n    products,\n    value,\n    exchangeRate,\n  } = useContext(ProductsContext);\n\n  const { currency, errorList } = value;\n\n  return (\n    <>\n      <div className={classNames('Error', {\n        product_error: !errorList,\n      })}\n      >\n        Товар не найден!\n      </div>\n      <div className={classNames('Products', {\n        product_error: errorList,\n      })}\n      >\n        { products.map(product => (\n          <div\n            key={product.id}\n            className=\"Product\"\n          >\n            <div\n              className={`Product-Photo\n              Product-Photo_img_${product.image.slice(0, -4)}`}\n            >\n              {}\n            </div>\n            <div className=\"Product-Content\">\n              <h3 className=\"Product-Name\">{product.name}</h3>\n              <p className=\"Product-Price\">\n                {currency === 'uah'\n                  ? product.price\n                  : changeCurrency(exchangeRate, product.price)}\n                &nbsp;\n                <span className=\"currency\">\n                  {currency.toUpperCase()}\n                </span>\n              </p>\n              <p className=\"Product-Description\">\n                {product.description.length > 150\n                  ? `${product.description.slice(0, 150)}...`\n                  : product.description}\n              </p>\n            </div>\n          </div>\n        ))}\n      </div>\n    </>\n  );\n};\n","import React from 'react';\nimport './Scroll.scss';\n\nexport const Scroll = () => (\n  <a href=\"#products\" className=\"Scroll\">&nbsp;</a>\n);\n","import React from 'react';\nimport './App.scss';\nimport { NewProduct } from './components/NewProduct';\nimport { Options } from './components/Options';\nimport { Products } from './components/Products';\nimport { Scroll } from './components/Scroll';\nimport { ProductsProvider } from './ProductsProvider';\n\nexport const App = () => (\n  <ProductsProvider>\n    <div className=\"App\" id=\"products\">\n      <div className=\"App-Sidebar\">\n        <Options />\n        <NewProduct />\n      </div>\n      <div className=\"App-Content\">\n        <Products />\n      </div>\n      <Scroll />\n    </div>\n  </ProductsProvider>\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}